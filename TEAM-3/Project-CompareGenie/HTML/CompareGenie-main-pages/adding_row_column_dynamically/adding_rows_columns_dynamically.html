<!DOCTYPE html>
<html lang="en">

<head>
    <title>dynamic table</title>
    <script src="dragtable.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.css"
        rel="stylesheet">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.css" rel="stylesheet"> -->
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="adding_rows_columns_dynamically.css" />
</head>

<body>
    <div id="mainheader">
        <div id="left-box">
            <img id="lineicon" src="../images/lineicon.png" width="24px" height="24px" alt="burgerimage">
        </div>
        <div id="right-box">
            <img id="pic" src="../images/close-icon.png" width="24px" height="24px" alt="closeimage">
        </div>
    </div>
    <div style="text-align: center" id="title">
        <p style="color: rgb(3, 58, 19); font-size: 25px; font-family: Verdana, Geneva, Tahoma, sans-serif;"> <b>Compare
                Genie</b></p>
    </div>
    <div id="comparisonsheet">
        <p
            style="color: rgb(87, 4, 4); font-size: 18px; font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">
            <b>Comparison Sheet</b></p>
    </div>
    </div>



    <form>
        <table style="column-rule-color: blue;" class="table" id="dynamictable" border="1">
            <thead>
                <tr>
                    <th>Parameters<img src="../images/plus-icon.png" height="30" width="30" alt="plus image"
                            id="addParameter"></th>
                    <th>Objects<img src="../images/plus-icon.png" height="30" width="30" alt="plus image"
                            id="addObject"></th>
                </tr>
            </thead>
            <tbody>
                <tr></tr>
            </tbody>
        </table>
    </form>

    <div class="Parameter_popup">
        <div class="container1">
            <p style="color:white">Parameter</p>
            <input type="text" id="parameter">
        </div>
        <div class="container2">
            <button type="button" id="addparameterbutton">ADD</button>
        </div>
    </div>

    <div class="object_popup">
        <div class="container1">
            <p style="color:white"> object</p>
            <input type="text" id="object">
        </div>
        <div class="container2">
            <button id="objectAddbutton" onclick="addColumn('dynamictable')">ADD</button>
        </div>
    </div>



    <script>
        document.getElementById("addObject").addEventListener("click", function () { document.querySelector(".object_popup").style.display = "block"; })
        document.getElementById("addParameter").addEventListener("click", function () { document.querySelector(".Parameter_popup").style.display = "block"; })
        document.getElementById("objectAddbutton").addEventListener("click", function () { document.querySelector(".object_popup").style.display = "none"; })
        document.getElementById("addparameterbutton").addEventListener("click", function () { document.querySelector(".Parameter_popup").style.display = "none"; })



        $('tbody').sortable();


        // $('#defaultTable').dragtable();
        //         $('#localStorageTable').dragtable({ 
        //     persistState: function(table) { 
        //       if (!window.sessionStorage) return; 
        //       var ss = window.sessionStorage; 
        //       table.el.find('th').each(function(i) { 
        //         if(this.id != '') {table.sortOrder[this.id]=i;} 
        //       }); 
        //       ss.setItem('tableorder',JSON.stringify(table.sortOrder)); 
        //     }, 
        //     restoreState: eval('(' + window.sessionStorage.getItem('tableorder') + ')') 
        // }); 


        function addColumn(tblId) {
            var addObject = document.getElementById("object").value;
            var tblHeadObj = document.getElementById(tblId).tHead;
            for (var h = 0; h < tblHeadObj.rows.length; h++) {
                var newTH = document.createElement('th');
                tblHeadObj.rows[h].appendChild(newTH);
                newTH.innerHTML = addObject;
            }
            var tableBody = document.getElementById("dynamictable").tBodies[0];
            for (var i = 0; i < tableBody.rows.length; i++) {
                var newCell = tableBody.rows[i].insertCell(-1);
                newCell.innerHTML = '<input type="text">';
            }
        }

        var entry = document.getElementById("addparameterbutton");
        entry.addEventListener("click", displayDetails);

        function displayDetails() {
            var addParameter1 = document.getElementById("parameter").value;

            var dynamictable = document.getElementById("dynamictable");
            var newRow = dynamictable.insertRow(dynamictable.rows.length).outerHTML = ("<tr data-name='" + addParameter1 + "'><td>" + addParameter1 + "</td><td></td></tr>");
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);

            cell1.insertHTML = addParameter1;
            cell2.insertHTML = addParameter2;
            cell3.insertHTML = addParameter3;

        }
        function delete_row() {
            document.getElementById("" + newRow + "").outerHTML = "";

        }
    </script>

    <a href="../page_2/page2.html"><button
            style="margin-top:15%; background:blue; color:aliceblue; padding:2px; float:right; margin-right:5%;">Back</button></a>

</body>

</html>








<!-- <button class='btn btn-danger btn-xs btn-delete' onclick='delete_row(" + newRow + ")' id='delete'>Delete</button></td> -->